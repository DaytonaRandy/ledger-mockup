<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Construction & Fix-Flip Rate Estimator | Ledger Trade & Capital</title>
<meta name="description" content="Estimate your construction, fix & flip, or bridge loan rate instantly.">
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<style>
:root {
  --green:#2b4a42;--green-dark:#1e3830;--green-light:#3a5f55;
  --gold:#c49a3c;--gold-dark:#b08832;--gold-light:#d4ad52;
  --white:#ffffff;--cream:#f2efe9;--cream-dark:#e8e4dc;
  --gray-100:#e0ddd6;--gray-300:#c5c1b8;--gray-500:#6b7280;--gray-600:#4b5563;
}
*{margin:0;padding:0;box-sizing:border-box;}
body{font-family:'DM Sans',sans-serif;background:var(--cream);color:var(--green);line-height:1.6;}
.nav{position:fixed;top:0;left:0;right:0;z-index:100;padding:1.25rem 3rem;display:flex;align-items:center;background:rgba(242,239,233,0.95);backdrop-filter:blur(12px);border-bottom:1px solid var(--gray-100);}
.nav-logo{font-family:'Plus Jakarta Sans',sans-serif;font-weight:800;font-size:1.35rem;color:var(--green);text-decoration:none;letter-spacing:-0.02em;margin-right:auto;}
.nav-logo span{color:var(--gold);}
.nav-links{display:flex;align-items:center;gap:2.5rem;list-style:none;margin-right:2rem;}
.nav-links a{color:var(--gray-600);text-decoration:none;font-size:0.9rem;font-weight:500;transition:color 0.2s;}
.nav-links a:hover{color:var(--green);}
.nav-links .dropdown{position:relative;}
.nav-links .dropdown-menu{display:none;position:absolute;top:100%;left:-1rem;padding-top:0.75rem;min-width:220px;}
.nav-links .dropdown:hover .dropdown-menu{display:block;}
.nav-links .dropdown-menu ul{background:var(--white);border:1px solid var(--gray-100);border-radius:10px;padding:0.5rem 0;list-style:none;box-shadow:0 10px 30px rgba(0,0,0,0.08);}
.nav-links .dropdown-menu li a{display:block;padding:0.6rem 1.25rem;font-size:0.85rem;}
.nav-links .dropdown-menu li a:hover{background:var(--cream);color:var(--green);}
.nav-cta{background:var(--gold);color:var(--white);padding:0.6rem 1.5rem;border-radius:6px;font-weight:700;font-size:0.85rem;text-decoration:none;transition:background 0.2s,transform 0.2s;}
.nav-cta:hover{background:var(--gold-dark);transform:translateY(-1px);}
.page-hero{padding:10rem 3rem 4rem;background:var(--green);text-align:center;position:relative;overflow:hidden;}
.page-hero::before{content:'';position:absolute;top:-30%;right:-15%;width:600px;height:600px;background:radial-gradient(circle,rgba(196,154,60,0.08) 0%,transparent 70%);border-radius:50%;pointer-events:none;}
.page-hero h1{font-family:'Plus Jakarta Sans',sans-serif;font-size:3rem;font-weight:800;color:var(--white);letter-spacing:-0.02em;margin-bottom:1rem;position:relative;}
.page-hero p{font-size:1.15rem;color:rgba(255,255,255,0.7);max-width:550px;margin:0 auto;line-height:1.7;position:relative;}
.calc-section{padding:3rem 3rem 5rem;background:var(--cream);}
.calc-container{max-width:900px;margin:-3rem auto 0;position:relative;z-index:10;}
.calc-card{background:var(--white);border:1px solid var(--gray-100);border-radius:20px;padding:2.5rem;box-shadow:0 8px 40px rgba(0,0,0,0.06);}
.calc-grid{display:grid;grid-template-columns:1fr 1fr;gap:1.5rem;}
.calc-group{display:flex;flex-direction:column;}
.calc-group.full{grid-column:1/-1;}
.calc-group label{font-size:0.75rem;font-weight:700;color:var(--green);margin-bottom:0.4rem;text-transform:uppercase;letter-spacing:0.08em;}
.calc-group select,.calc-group input{background:var(--cream);border:1.5px solid var(--gray-100);border-radius:10px;padding:0.85rem 1rem;color:var(--green);font-family:'DM Sans',sans-serif;font-size:0.95rem;font-weight:500;outline:none;transition:border-color 0.2s,box-shadow 0.2s;}
.calc-group select{appearance:none;cursor:pointer;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%232b4a42' stroke-width='2.5'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 1rem center;}
.calc-group select:focus,.calc-group input:focus{border-color:var(--gold);box-shadow:0 0 0 3px rgba(196,154,60,0.12);}
.calc-group .help-text{font-size:0.72rem;color:var(--gray-500);margin-top:0.35rem;font-weight:500;}
.leverage-display{display:inline-flex;gap:0.75rem;flex-wrap:wrap;margin-top:0.5rem;}
.leverage-tag{background:rgba(43,74,66,0.08);color:var(--green);padding:0.3rem 0.75rem;border-radius:6px;font-size:0.78rem;font-weight:700;}
.leverage-tag.warn{background:rgba(196,154,60,0.12);color:var(--gold-dark);}
.calc-result{margin-top:2rem;padding:2.25rem;border-radius:16px;background:var(--green);text-align:center;position:relative;overflow:hidden;}
.calc-result::before{content:'';position:absolute;top:-60%;right:-20%;width:400px;height:400px;background:radial-gradient(circle,rgba(196,154,60,0.12) 0%,transparent 70%);border-radius:50%;pointer-events:none;}
.calc-result-label{font-size:0.72rem;font-weight:700;text-transform:uppercase;letter-spacing:0.15em;color:rgba(255,255,255,0.5);margin-bottom:0.5rem;position:relative;}
.calc-result-rate{font-family:'Plus Jakarta Sans',sans-serif;font-size:4rem;font-weight:800;color:var(--gold-light);line-height:1;letter-spacing:-0.03em;position:relative;}
.calc-result-sub{font-size:0.85rem;color:rgba(255,255,255,0.45);margin-top:0.5rem;position:relative;}
.calc-result-details{display:grid;grid-template-columns:repeat(4,1fr);gap:1rem;margin-top:1.5rem;padding-top:1.5rem;border-top:1px solid rgba(255,255,255,0.08);position:relative;}
.calc-detail-item{text-align:center;}
.calc-detail-value{font-family:'Plus Jakarta Sans',sans-serif;font-size:1.15rem;font-weight:700;color:var(--white);}
.calc-detail-label{font-size:0.65rem;color:rgba(255,255,255,0.4);text-transform:uppercase;letter-spacing:0.1em;margin-top:0.15rem;}
.calc-result-error{font-family:'Plus Jakarta Sans',sans-serif;font-size:1.3rem;font-weight:700;color:rgba(255,255,255,0.8);line-height:1.4;position:relative;}
.calc-result-error-sub{font-size:0.85rem;color:rgba(255,255,255,0.45);margin-top:0.5rem;position:relative;}
.calc-cta{text-align:center;margin-top:2rem;}
.btn-primary{background:var(--gold);color:var(--white);padding:0.9rem 2.25rem;border-radius:10px;font-family:'Plus Jakarta Sans',sans-serif;font-weight:700;font-size:0.95rem;text-decoration:none;display:inline-flex;align-items:center;gap:0.5rem;transition:all 0.2s;border:none;cursor:pointer;}
.btn-primary:hover{background:var(--gold-dark);transform:translateY(-2px);box-shadow:0 8px 25px rgba(196,154,60,0.25);}
.calc-disclaimer{text-align:center;margin-top:1.5rem;font-size:0.72rem;color:var(--gray-500);max-width:600px;margin-left:auto;margin-right:auto;line-height:1.6;}
.footer{background:var(--green);padding:3rem;}
.footer-content{max-width:1200px;margin:0 auto;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1.5rem;}
.footer-logo{font-family:'Plus Jakarta Sans',sans-serif;font-weight:800;font-size:1.15rem;color:var(--white);}
.footer-logo span{color:var(--gold-light);}
.footer-links{display:flex;gap:2rem;list-style:none;}
.footer-links a{color:rgba(255,255,255,0.5);text-decoration:none;font-size:0.85rem;transition:color 0.2s;}
.footer-links a:hover{color:var(--white);}
.footer-copy{width:100%;text-align:center;color:rgba(255,255,255,0.4);font-size:0.8rem;margin-top:1.5rem;padding-top:1.5rem;border-top:1px solid rgba(255,255,255,0.08);}
@media(max-width:768px){.nav{padding:1rem 1.5rem;}.nav-links{display:none;}.page-hero{padding:8rem 1.5rem 3rem;}.page-hero h1{font-size:2.2rem;}.calc-section{padding:1.5rem 1.5rem 3rem;}.calc-card{padding:1.5rem;}.calc-grid{grid-template-columns:1fr;}.calc-result-rate{font-size:3rem;}.calc-result-details{grid-template-columns:repeat(2,1fr);}.footer-content{flex-direction:column;text-align:center;}.footer-links{flex-wrap:wrap;justify-content:center;}}
</style>
</head>
<body>

<nav class="nav">
  <a href="index.html" class="nav-logo">Ledger Trade <span>&</span> Capital</a>
  <ul class="nav-links">
    <li class="dropdown">
      <a href="#">Loan Products ▾</a>
      <div class="dropdown-menu"><ul>
        <li><a href="construction.html">Ground-Up Construction</a></li>
        <li><a href="dscr.html">DSCR Loans</a></li>
        <li><a href="bridge.html">Bridge Loans</a></li>
        <li><a href="fix-and-flip.html">Fix & Flip</a></li>
      </ul></div>
    </li>
    <li><a href="about.html">About</a></li>
    <li><a href="contact.html">Get in Touch</a></li>
  </ul>
  <a href="contact.html" class="nav-cta">Get Funded</a>
</nav>

<section class="page-hero">
  <h1>RTL Rate Estimator</h1>
  <p>Estimate your construction, fix & flip, or bridge loan rate. Enter your deal details below.</p>
</section>

<section class="calc-section">
  <div class="calc-container">
    <div class="calc-card">
      <div class="calc-grid">

        <div class="calc-group">
          <label>Loan Program *</label>
          <select id="program" onchange="calc()">
            <option value="">Select program</option>
            <option value="fnf_light">Fix & Flip (Light Rehab)</option>
            <option value="fnf_heavy">Fix & Flip (Heavy Rehab)</option>
            <option value="guc">Ground-Up Construction</option>
            <option value="bridge">Bridge (No Rehab)</option>
          </select>
        </div>

        <div class="calc-group">
          <label>Deal Type *</label>
          <select id="dealType" onchange="calc()">
            <option value="">Select type</option>
            <option value="purchase">Purchase</option>
            <option value="refi_rt">Rate/Term Refinance</option>
            <option value="refi_co">Cash Out Refinance</option>
          </select>
        </div>

        <div class="calc-group">
          <label>Property Type *</label>
          <select id="propType" onchange="calc()">
            <option value="">Select type</option>
            <option value="sfr">Single Family Detached</option>
            <option value="townhome">Townhome</option>
            <option value="condo">Condominium</option>
            <option value="2-4">2 - 4 Unit</option>
            <option value="multi">Multifamily (5+ units)</option>
          </select>
        </div>

        <div class="calc-group">
          <label>Experience Level *</label>
          <select id="exp" onchange="calc()">
            <option value="">Select experience</option>
            <option value="institutional">Institutional (10+ projects)</option>
            <option value="experienced">Experienced (3-10 projects)</option>
            <option value="none">No Experience (0-2 projects)</option>
          </select>
        </div>

        <div class="calc-group">
          <label>As-Is Property Value *</label>
          <input type="text" id="asIs" placeholder="$400,000" oninput="fmt(this);calc()">
          <span class="help-text">Current value before improvements</span>
        </div>

        <div class="calc-group">
          <label>After Repair Value (ARV) *</label>
          <input type="text" id="arv" placeholder="$650,000" oninput="fmt(this);calc()">
          <span class="help-text">Estimated value after completion</span>
        </div>

        <div class="calc-group">
          <label>Construction / Rehab Budget *</label>
          <input type="text" id="budget" placeholder="$150,000" oninput="fmt(this);calc()">
          <span class="help-text">Total construction or renovation cost</span>
        </div>

        <div class="calc-group">
          <label>Credit Score (FICO) *</label>
          <select id="fico" onchange="calc()">
            <option value="">Select range</option>
            <option value="720">720+</option>
            <option value="700">700 - 719</option>
            <option value="680">680 - 699</option>
            <option value="660">660 - 679</option>
          </select>
        </div>

        <div class="calc-group">
          <label>Loan Term *</label>
          <select id="term" onchange="calc()">
            <option value="">Select term</option>
            <option value="12">12 months</option>
            <option value="15">15 months</option>
            <option value="18">18 months</option>
            <option value="24">24 months</option>
          </select>
        </div>

        <div class="calc-group">
          <label>Foreign National?</label>
          <select id="fn" onchange="calc()">
            <option value="no">No</option>
            <option value="yes">Yes</option>
          </select>
        </div>

      </div>

      <div id="leverageInfo"></div>

      <div class="calc-result" id="result">
        <div class="calc-result-label">Estimated Rate</div>
        <div class="calc-result-rate">--.---%</div>
        <div class="calc-result-sub">Fill in all required fields to see your estimated rate</div>
      </div>

      <div class="calc-cta">
        <a href="contact.html" class="btn-primary">Lock In Your Rate →</a>
      </div>

      <div class="calc-disclaimer">
        This is an estimate only and does not constitute a loan offer, commitment, or approval.
        Actual rates, terms, leverage, and eligibility are subject to underwriting review, appraisal,
        and market conditions at the time of lock. Contact our team for a formal quote.
      </div>
    </div>
  </div>
</section>

<footer class="footer">
  <div class="footer-content">
    <div class="footer-logo">Ledger Trade <span>&</span> Capital</div>
    <ul class="footer-links">
      <li><a href="construction.html">Construction</a></li>
      <li><a href="dscr.html">DSCR</a></li>
      <li><a href="bridge.html">Bridge</a></li>
      <li><a href="fix-and-flip.html">Fix & Flip</a></li>
      <li><a href="about.html">About</a></li>
      <li><a href="contact.html">Contact</a></li>
    </ul>
    <div class="footer-copy">&copy; 2025 Ledger Trade &amp; Capital. All rights reserved.</div>
  </div>
</footer>

<script>
// =====================================================
// RTL PRICING ENGINE
// Tier 1: 9.950%  |  Tier 2: 10.500%
// +1% adders for: Condo, Multifamily, FICO < 680
// =====================================================

const TIER1 = 9.950;
const TIER2 = 10.500;

// Leverage matrix: [experience][program][dealType] -> {maxLTAIV, maxLTC, maxLTV}
const LEV = {
  institutional: {
    fnf_light: { purchase:{ltaiv:.90,ltc:.95,ltv:.75}, refi_rt:{ltaiv:.85,ltc:.90,ltv:.75}, refi_co:{ltaiv:.85,ltc:.90,ltv:.75} },
    fnf_heavy: { purchase:{ltaiv:.85,ltc:.85,ltv:.75}, refi_rt:{ltaiv:.85,ltc:.85,ltv:.75}, refi_co:{ltaiv:.85,ltc:.85,ltv:.75} },
    guc:       { purchase:{ltaiv:.60,ltc:.90,ltv:.75}, refi_rt:{ltaiv:.60,ltc:.90,ltv:.75}, refi_co:{ltaiv:.60,ltc:.90,ltv:.75} },
    bridge:    { purchase:{ltaiv:.85,ltc:null,ltv:.85}, refi_rt:{ltaiv:.80,ltc:null,ltv:.80}, refi_co:{ltaiv:.75,ltc:null,ltv:.75} }
  },
  experienced: {
    fnf_light: { purchase:{ltaiv:.85,ltc:.90,ltv:.75}, refi_rt:{ltaiv:.85,ltc:.90,ltv:.75}, refi_co:{ltaiv:.85,ltc:.90,ltv:.75} },
    fnf_heavy: { purchase:{ltaiv:.85,ltc:.85,ltv:.70}, refi_rt:{ltaiv:.85,ltc:.85,ltv:.70}, refi_co:{ltaiv:.85,ltc:.85,ltv:.70} },
    guc:       { purchase:{ltaiv:.60,ltc:.90,ltv:.70}, refi_rt:{ltaiv:.60,ltc:.90,ltv:.70}, refi_co:{ltaiv:.60,ltc:.90,ltv:.70} },
    bridge:    { purchase:{ltaiv:.85,ltc:null,ltv:.85}, refi_rt:{ltaiv:.75,ltc:null,ltv:.75}, refi_co:{ltaiv:.70,ltc:null,ltv:.70} }
  },
  none: {
    fnf_light: { purchase:{ltaiv:.75,ltc:.80,ltv:.70}, refi_rt:{ltaiv:.75,ltc:.80,ltv:.70}, refi_co:{ltaiv:.75,ltc:.80,ltv:.70} },
    fnf_heavy: null, // not eligible
    guc: null,       // not eligible
    bridge:    { purchase:{ltaiv:.75,ltc:null,ltv:.75}, refi_rt:{ltaiv:.70,ltc:null,ltv:.70}, refi_co:null }
  }
};

function pv(s){return parseFloat(s.replace(/[^0-9.]/g,''))||0;}
function fmt(e){let v=e.value.replace(/[^0-9]/g,'');if(v){e.value='$'+parseInt(v).toLocaleString('en-US');}}

function calc(){
  const prog=document.getElementById('program').value;
  const dt=document.getElementById('dealType').value;
  const pt=document.getElementById('propType').value;
  const exp=document.getElementById('exp').value;
  const asIs=pv(document.getElementById('asIs').value);
  const arv=pv(document.getElementById('arv').value);
  const budget=pv(document.getElementById('budget').value);
  const fico=document.getElementById('fico').value;
  const term=document.getElementById('term').value;
  const fn=document.getElementById('fn').value;

  document.getElementById('leverageInfo').innerHTML='';

  if(!prog||!dt||!pt||!exp||!asIs||!arv||!fico||!term){showDef();return;}

  // Check eligibility
  const levEntry = LEV[exp]?.[prog]?.[dt];
  if(!levEntry){
    showErr("Not eligible","This combination of experience level and loan program is not available. Inexperienced borrowers are limited to light rehab and bridge (purchase/R/T refi) programs.");
    return;
  }

  // Calculate leverage
  const totalCost = asIs + budget;
  const maxLTAIV = levEntry.ltaiv;
  const maxLTC = levEntry.ltc;
  const maxLTV = levEntry.ltv;

  const day1Max = asIs * maxLTAIV;
  const drawMax = maxLTC ? budget * maxLTC : 0;
  let tlaMax;

  if(prog==='bridge'){
    tlaMax = Math.min(asIs * maxLTAIV, arv * maxLTV);
  } else {
    const ltvCap = arv * maxLTV;
    const ltcCap = maxLTC ? totalCost * maxLTC : Infinity;
    tlaMax = Math.min(day1Max + drawMax, ltvCap, ltcCap);
  }

  if(budget>0 && prog!=='bridge'){
    // need budget for non-bridge
  } else if(prog!=='bridge' && !budget){
    showDef();return;
  }

  const ltaiv = day1Max / asIs;
  const ltv = tlaMax / arv;
  const ltc = maxLTC ? tlaMax / totalCost : null;

  // Show leverage info
  let levHTML = '<div class="leverage-display">';
  levHTML += `<span class="leverage-tag">Max LTAIV: ${(maxLTAIV*100).toFixed(0)}%</span>`;
  if(maxLTC) levHTML += `<span class="leverage-tag">Max LTC: ${(maxLTC*100).toFixed(0)}%</span>`;
  levHTML += `<span class="leverage-tag">Max LTV: ${(maxLTV*100).toFixed(0)}%</span>`;
  levHTML += `<span class="leverage-tag">Est. Max Loan: $${Math.round(tlaMax).toLocaleString()}</span>`;
  levHTML += '</div>';
  document.getElementById('leverageInfo').innerHTML = levHTML;

  // ─── TIER DETERMINATION ───
  let tier = 1;
  let reasons = [];

  if(fn==='yes'){ tier=2; reasons.push('Foreign National'); }
  if(exp==='none'){ tier=2; reasons.push('No Experience'); }

  // >90% LTC check
  if(maxLTC && tlaMax/totalCost > 0.90){ tier=2; reasons.push('LTC > 90%'); }

  // Heavy/GUC specific: >85% LTC or >70% LTV
  if(prog==='fnf_heavy'||prog==='guc'){
    if(maxLTC && tlaMax/totalCost > 0.85){ tier=2; reasons.push('LTC > 85% (Heavy/GUC)'); }
    if(tlaMax/arv > 0.70){ tier=2; reasons.push('LTV > 70% (Heavy/GUC)'); }
  }

  // >$3M TLA
  if(tlaMax > 3000000){ tier=2; reasons.push('Loan > $3M'); }

  // C/O Refi Bridge
  if(prog==='bridge' && dt==='refi_co'){ tier=2; reasons.push('Cash Out Refi Bridge'); }

  let baseRate = tier===1 ? TIER1 : TIER2;

  // +1% ADDERS
  let adders = 0;
  let adderReasons = [];
  if(pt==='condo'){ adders+=1; adderReasons.push('Condo'); }
  if(pt==='multi'){ adders+=1; adderReasons.push('Multifamily'); }
  if(parseInt(fico)<680){ adders+=1; adderReasons.push('FICO < 680'); }

  const finalRate = baseRate + adders;

  const tierLabel = tier===1 ? 'Tier 1' : 'Tier 2';
  const termLabel = term + ' mo';

  showRes(finalRate, tierLabel, tlaMax, maxLTV, maxLTAIV, termLabel, adderReasons);
}

function showDef(){
  document.getElementById('result').innerHTML=`
    <div class="calc-result-label">Estimated Rate</div>
    <div class="calc-result-rate">--.---%</div>
    <div class="calc-result-sub">Fill in all required fields to see your estimated rate</div>`;
}

function showRes(r,tier,tla,ltv,ltaiv,term,adders){
  let adderNote = adders.length ? '<br>Includes +1% adder for: '+adders.join(', ') : '';
  document.getElementById('result').innerHTML=`
    <div class="calc-result-label">Estimated Rate</div>
    <div class="calc-result-rate">${r.toFixed(3)}%</div>
    <div class="calc-result-sub">${tier} | Interest Only${adderNote}</div>
    <div class="calc-result-details">
      <div class="calc-detail-item"><div class="calc-detail-value">$${Math.round(tla).toLocaleString()}</div><div class="calc-detail-label">Est. Max Loan</div></div>
      <div class="calc-detail-item"><div class="calc-detail-value">${(ltaiv*100).toFixed(0)}%</div><div class="calc-detail-label">Max LTAIV</div></div>
      <div class="calc-detail-item"><div class="calc-detail-value">${(ltv*100).toFixed(0)}%</div><div class="calc-detail-label">Max LTV</div></div>
      <div class="calc-detail-item"><div class="calc-detail-value">${term}</div><div class="calc-detail-label">Term</div></div>
    </div>`;
}

function showErr(t,m){
  document.getElementById('result').innerHTML=`
    <div class="calc-result-error">${t}</div>
    <div class="calc-result-error-sub">${m}</div>`;
}
</script>
</body>
</html>
